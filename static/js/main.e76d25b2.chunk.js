(this["webpackJsonpsupplier-dashboard"]=this["webpackJsonpsupplier-dashboard"]||[]).push([[0],{100:function(e,t,r){},295:function(e,t,r){e.exports=r(446)},300:function(e,t,r){},304:function(e,t,r){},419:function(e,t,r){},443:function(e,t,r){},444:function(e,t,r){},446:function(e,t,r){"use strict";r.r(t);var a=r(1),o=r.n(a),n=r(29),i=r.n(n),c=(r(300),r(12)),u=r(497),d=r(38),l=[{supplier:"Yum Food",productId:"111",productName:"abc sauce",productCategory1:"food",productCategory2:"sauce",orderedOn:"02/01/2020",price:"0.99",quantity:"20",deliveryDate:"02/03/2020"},{supplier:"Yum Food",productId:"222",productName:"abc veggie",productCategory1:"food",productCategory2:"vegetables",orderedOn:"02/01/2020",price:"3.99",quantity:"40",deliveryDate:"02/03/2020"},{supplier:"Yum Food",productId:"333",productName:"abc bread",productCategory1:"food",productCategory2:"bread",orderedOn:"02/03/2020",price:"0.49",quantity:"30",deliveryDate:"02/04/2020"},{supplier:"Yum Food",productId:"444",productName:"def bread",productCategory1:"food",productCategory2:"bread",orderedOn:"02/02/2020",price:"0.49",quantity:"5",deliveryDate:"02/04/2020"},{supplier:"Yum Food",productId:"444",productName:"def bread",productCategory1:"food",productCategory2:"bread",orderedOn:"02/02/2020",price:"0.49",quantity:"2",deliveryDate:"02/04/2020"},{supplier:"Yum Food",productId:"123",productName:"ghi meat",productCategory1:"food",productCategory2:"meat",orderedOn:"02/03/2020",price:"4.99",quantity:"15",deliveryDate:"02/04/2020"},{supplier:"Yum Food",productId:"234",productName:"ghi steak",productCategory1:"food",productCategory2:"meat",orderedOn:"02/04/2020",price:"10.75",quantity:"5",deliveryDate:"02/06/2020"},{supplier:"Yum Food",productId:"345",productName:"ghi veggie",productCategory1:"food",productCategory2:"vegetables",orderedOn:"02/01/2020",price:"2.98",quantity:"20",deliveryDate:"02/03/2020"},{supplier:"Yum Food",productId:"456",productName:"jkl fish",productCategory1:"food",productCategory2:"fish",orderedOn:"02/05/2020",price:"4.76",quantity:"10",deliveryDate:"02/07/2020"},{supplier:"Yum Food",productId:"567",productName:"jkl egg",productCategory1:"food",productCategory2:"egg",orderedOn:"02/03/2020",price:"0.25",quantity:"40",deliveryDate:"02/04/2020"},{supplier:"Yum Food",productId:"678",productName:"jkl fruit",productCategory1:"food",productCategory2:"fruit",orderedOn:"02/02/2020",price:"1.45",quantity:"23",deliveryDate:"02/04/2020"},{supplier:"Booz drinks",productId:"555",productName:"beer A",productCategory1:"beverages",productCategory2:"beer",orderedOn:"02/01/2020",price:"3.58",quantity:"10",deliveryDate:"02/03/2020"},{supplier:"Booz drinks",productId:"545",productName:"beer B",productCategory1:"beverages",productCategory2:"beer",orderedOn:"02/03/2020",price:"3.23",quantity:"5",deliveryDate:"02/04/2020"},{supplier:"Booz drinks",productId:"546",productName:"beer C",productCategory1:"beverages",productCategory2:"beer",orderedOn:"02/04/2020",price:"3.01",quantity:"8",deliveryDate:"02/06/2020"},{supplier:"Booz drinks",productId:"547",productName:"beer D",productCategory1:"beverages",productCategory2:"beer",orderedOn:"02/01/2020",price:"3.1",quantity:"9",deliveryDate:"02/03/2020"},{supplier:"Booz drinks",productId:"548",productName:"wine A",productCategory1:"beverages",productCategory2:"wine",orderedOn:"03/05/2020",price:"8.56",quantity:"5",deliveryDate:"03/07/2020"},{supplier:"Booz drinks",productId:"549",productName:"wine B",productCategory1:"beverages",productCategory2:"wine",orderedOn:"03/06/2020",price:"9.12",quantity:"8",deliveryDate:"03/08/2020"},{supplier:"Booz drinks",productId:"560",productName:"wine C",productCategory1:"beverages",productCategory2:"wine",orderedOn:"02/02/2020",price:"9.43",quantity:"3",deliveryDate:"02/04/2020"},{supplier:"Booz drinks",productId:"561",productName:"Champagne A",productCategory1:"beverages",productCategory2:"champagne",orderedOn:"02/02/2020",price:"50.1",quantity:"2",deliveryDate:"02/04/2020"},{supplier:"Allstuff supplies",productId:"781",productName:"soap",productCategory1:"supplies",productCategory2:"guest supplies",orderedOn:"02/02/2020",price:"0.33",quantity:"60",deliveryDate:"02/04/2020"},{supplier:"Allstuff supplies",productId:"781",productName:"soap",productCategory1:"supplies",productCategory2:"guest supplies",orderedOn:"02/04/2020",price:"0.33",quantity:"20",deliveryDate:"02/06/2020"},{supplier:"Allstuff supplies",productId:"784",productName:"towel A",productCategory1:"supplies",productCategory2:"towel",orderedOn:"02/01/2020",price:"2.97",quantity:"10",deliveryDate:"02/03/2020"},{supplier:"Allstuff supplies",productId:"784",productName:"towel B",productCategory1:"supplies",productCategory2:"towel",orderedOn:"02/01/2020",price:"2.89",quantity:"40",deliveryDate:"02/03/2020"},{supplier:"Allstuff supplies",productId:"788",productName:"pens x100",productCategory1:"supplies",productCategory2:"stationary",orderedOn:"02/03/2020",price:"9.99",quantity:"1",deliveryDate:"02/04/2020"},{supplier:"Allstuff supplies",productId:"789",productName:"paper A4 x50",productCategory1:"supplies",productCategory2:"stationary",orderedOn:"02/06/2020",price:"5.99",quantity:"1",deliveryDate:"02/07/2020"},{supplier:"Allstuff supplies",productId:"790",productName:"cutlery",productCategory1:"supplies",productCategory2:"glas & china",orderedOn:"02/02/2020",price:"21.02",quantity:"2",deliveryDate:"02/04/2020"},{supplier:"Allstuff supplies",productId:"791",productName:"nice glasses",productCategory1:"supplies",productCategory2:"glas & china",orderedOn:"02/03/2020",price:"22.55",quantity:"2",deliveryDate:"02/05/2020"}],p=r(494),s=r(498),m=r(34),g=Object(a.createContext)(null),y={totalQuantityToggle:"total",totalQuantityToggleSuppliers:"total",ordersWithTotalSum:[],totalOrdersVolume:[]},f=function(e,t){switch(t.type){case"TOTAL_QUANTITY_TOGGLE":return Object(m.a)({},e,{totalQuantityToggle:t.totalQuantityToggle});case"TOTAL_QUANTITY_TOGGLE_SUPPLIERS":return Object(m.a)({},e,{totalQuantityToggleSuppliers:t.totalQuantityToggle});case"SET_ORDERS":return Object(m.a)({},e,{ordersWithTotalSum:t.ordersWithTotalSum});case"SET_TOTAL_ORDERS_VOLUME":return Object(m.a)({},e,{totalOrdersVolume:t.totalOrdersVolume});default:return e}},v=function(){return Object(a.useContext)(g)},b=(r(86),function(e){var t=e.actionType,r=v().dispatch,a=o.a.useState("total"),n=Object(c.a)(a,2),i=n[0],u=n[1];return o.a.createElement("div",{className:"margin-T-2"},o.a.createElement(s.a,{value:i,exclusive:!0,onChange:function(e,a){console.log("newAlignment",a),null!==a&&(u(a),r({type:t,totalQuantityToggle:a}))}},o.a.createElement(p.a,{value:"total"},"volume (\u200e\u20ac)"),o.a.createElement(p.a,{value:"quantity"},"quantity")))}),h=r(120),O=r(26),C=r.n(O),E=function(e,t){var r=C.a.groupBy(e,t);return C()(r).map((function(e,t){return{label:t,value:t}})).value()},T=function(e){var t;return null!==(t=null===e||void 0===e?void 0:e.map((function(e){return e.value})))&&void 0!==t?t:[]},S=function(e,t,r,a){var o=C.a.groupBy(e,t);if("line"===a){var n=C()(o).map((function(e,t){return{x:t,y:C()(C()(e).sumBy(r)).round(2)}})).value();return console.log("transformedWithTotal",n),n}if("bar"===a)return C()(o).map((function(e,t){return Object(h.a)({supplier:t},r,C()(C()(e).sumBy(r)).round(2))})).value()},j=r(239),N=r.n(j),k=(r(304),Object(d.c)((function(){return o.a.createElement(N.a,{className:"drag-handle",fontSize:"large"})}))),I=(r(100),Object(d.b)((function(){var e=v(),t=e.state,r=e.dispatch,n=Object(a.useState)([]),i=Object(c.a)(n,2),d=i[0],p=i[1],s=Object(a.useState)([]),g=Object(c.a)(s,2),y=g[0],f=g[1];return Object(a.useEffect)((function(){var e=l.map((function(e){return Object(m.a)({},e,{total:+e.quantity*e.price,quantity:+e.quantity})}));r({type:"SET_ORDERS",ordersWithTotalSum:e})}),[r]),Object(a.useEffect)((function(){var e=function(e,t){var r=C.a.groupBy(e,t);return C()(r).map((function(e,t){return{productId:t,total:C()(e).sumBy("total"),quantity:C()(e).sumBy("quantity"),productName:e[0].productName}})).value()}(t.ordersWithTotalSum,"productId");p(e)}),[t.ordersWithTotalSum]),Object(a.useEffect)((function(){var e,r,a,o=(e=d,r=t.totalQuantityToggle,a=3,C()(e).orderBy([r],["desc"]).value().slice(0,a));f(o)}),[t.totalQuantityToggle,d]),o.a.createElement("div",{className:"handler"},o.a.createElement(k,null),o.a.createElement("div",{className:"card-shadow card-container"},o.a.createElement("h2",{className:"margin-T-2"},"TOP 3 Purchased products"),o.a.createElement(b,{actionType:"TOTAL_QUANTITY_TOGGLE"}),o.a.createElement("div",{className:"margin-TB-5 align-center"},y.map((function(e,t){return o.a.createElement("h5",{key:Object(u.a)()},t+1,". ",e.productName.toUpperCase())})))))}))),D=r(128),q=r(240),B=function(e){var t=e.data;return o.a.createElement("div",{style:{height:400}},o.a.createElement(q.a,{data:t,margin:{top:50,right:110,bottom:50,left:60},xScale:{type:"point"},yScale:{type:"linear",min:"auto",max:"auto",stacked:!0,reverse:!1},axisTop:null,axisRight:null,axisBottom:{orient:"bottom",tickSize:5,tickPadding:5,tickRotation:0,legend:"date",legendOffset:36,legendPosition:"middle"},axisLeft:{orient:"left",tickSize:5,tickPadding:5,tickRotation:0,legend:"total orders (in EUR)",legendOffset:-40,legendPosition:"middle"},colors:{scheme:"category10"},pointSize:10,pointColor:{theme:"background"},pointBorderWidth:2,pointBorderColor:{from:"serieColor"},pointLabel:"y",pointLabelYOffset:-12,useMesh:!0,legends:[{anchor:"bottom-right",direction:"column",justify:!1,translateX:100,translateY:0,itemsSpacing:0,itemDirection:"left-to-right",itemWidth:80,itemHeight:20,itemOpacity:.75,symbolSize:12,symbolShape:"circle",symbolBorderColor:"rgba(0, 0, 0, .5)",effects:[{on:"hover",style:{itemBackground:"rgba(0, 0, 0, .03)",itemOpacity:1}}]}]}))},w=(r(419),Object(d.b)((function(){var e=v(),t=e.state,r=e.dispatch,n=t.ordersWithTotalSum,i=Object(a.useState)([]),u=Object(c.a)(i,2),d=u[0],l=u[1],p=Object(a.useState)([]),s=Object(c.a)(p,2),g=s[0],y=s[1],f=Object(a.useState)([]),b=Object(c.a)(f,2),h=b[0],O=b[1],C=Object(a.useState)({suppliers:[],productCategory1:[],productCategory2:[]}),j=Object(c.a)(C,2),N=j[0],I=j[1],q=Object(a.useState)(n),w=Object(c.a)(q,2),x=w[0],A=w[1];Object(a.useEffect)((function(){0===N.suppliers.length&&0===N.productCategory1.length&&0===N.productCategory2.length&&A(n);var e=S(x,"orderedOn","total","line"),t=[];t.push({id:"orders",data:e}),r({type:"SET_TOTAL_ORDERS_VOLUME",totalOrdersVolume:t})}),[x,r,n]),Object(a.useEffect)((function(){var e=E(x,"supplier");l(e);var t,r=E(x,"productCategory1");y(r),t=0===N.suppliers.length&&0===N.productCategory1.length?n:x;var a=E(t,"productCategory2");O(a)}),[n,x]),Object(a.useEffect)((function(){var e=n.filter((function(e){var t=e.supplier,r=e.productCategory1,a=e.productCategory2,o=!N.suppliers.length||N.suppliers.includes(t),n=!N.productCategory1.length||N.productCategory1.includes(r),i=!N.productCategory2.length||N.productCategory2.includes(a);return o&&n&&i}));A(e)}),[N,n]);return o.a.createElement("div",{className:"handler"},o.a.createElement(k,null),o.a.createElement("div",{className:"card-shadow card-container"},o.a.createElement("h2",{className:"margin-T-2"},"Total Order Volume"),o.a.createElement("div",{className:"dropdown-menu-container margin-T-2"},o.a.createElement(D.a,{className:"dropdown-menu-item",placeholder:"Select supplier",options:d,isMulti:!0,onChange:function(e){return function(e){var t=T(e);I((function(e){return Object(m.a)({},e,{suppliers:t})}))}(e)}}),o.a.createElement(D.a,{className:"dropdown-menu-item",placeholder:"Select category",options:g,isMulti:!0,onChange:function(e){return function(e){var t=T(e);I((function(e){return Object(m.a)({},e,{productCategory1:t})}))}(e)}}),o.a.createElement(D.a,{className:"dropdown-menu-item",placeholder:"Select subcategory",options:h,isMulti:!0,onChange:function(e){return function(e){var t=T(e);I((function(e){return Object(m.a)({},e,{productCategory2:t})}))}(e)}})),o.a.createElement("div",{className:"graph-container"},o.a.createElement(B,{data:t.totalOrdersVolume}))))}))),x=r(250),A=function(e){var t=e.data,r=v().state;return o.a.createElement("div",{style:{height:400}},o.a.createElement(x.a,{data:t,keys:[r.totalQuantityToggleSuppliers],indexBy:"supplier",margin:{top:50,right:130,bottom:50,left:60},padding:.3,colors:{scheme:"category10"},defs:[{id:"dots",type:"patternDots",background:"inherit",color:"#38bcb2",size:4,padding:1,stagger:!0},{id:"lines",type:"patternLines",background:"inherit",color:"#eed312",rotation:-45,lineWidth:6,spacing:10}],fill:[{match:{id:"fries"},id:"dots"},{match:{id:"sandwich"},id:"lines"}],borderColor:{from:"color",modifiers:[["darker",1.6]]},axisTop:null,axisRight:null,axisBottom:{tickSize:5,tickPadding:5,tickRotation:0,legend:"supplier",legendPosition:"middle",legendOffset:32},axisLeft:{tickSize:5,tickPadding:5,tickRotation:0,legend:r.totalQuantityToggleSuppliers,legendPosition:"middle",legendOffset:-40},labelSkipWidth:12,labelSkipHeight:12,labelTextColor:"#fff",legends:[{dataFrom:"keys",anchor:"bottom-right",direction:"column",justify:!1,translateX:120,translateY:0,itemsSpacing:2,itemWidth:100,itemHeight:20,itemDirection:"left-to-right",itemOpacity:.85,symbolSize:20,effects:[{on:"hover",style:{itemOpacity:1}}]}],animate:!0,motionStiffness:90,motionDamping:15}))},L=Object(d.b)((function(){var e=v().state,t=Object(a.useState)(),r=Object(c.a)(t,2),n=r[0],i=r[1],u=e.ordersWithTotalSum;return Object(a.useEffect)((function(){console.log("ordersWithTotalSum",u);var t=S(u,"supplier",e.totalQuantityToggleSuppliers,"bar");console.log("groupedBySupplier",t),i(t)}),[u,e.totalQuantityToggleSuppliers]),o.a.createElement("div",{className:"handler"},o.a.createElement(k,null),o.a.createElement("div",{className:"card-shadow card-container"},o.a.createElement("h2",{className:"margin-T-2"},"SupplierRank"),o.a.createElement(b,{actionType:"TOTAL_QUANTITY_TOGGLE_SUPPLIERS"}),o.a.createElement("div",{className:"graph-container"},o.a.createElement(A,{data:n}))))})),R=r(499),W=r(253),Y=r.n(W),_=r(254),z=r.n(_),Q=r(495),P=(r(443),function(e){var t=e.data;return o.a.createElement("div",{className:"tree-container"},o.a.createElement(R.a,{defaultCollapseIcon:o.a.createElement(Y.a,null),defaultExpanded:["root"],defaultExpandIcon:o.a.createElement(z.a,null)},function e(t){return o.a.createElement(Q.a,{key:t.id,nodeId:t.id,label:t.name},Array.isArray(t.children)?t.children.map((function(t){return e(t)})):null)}(t)))}),F=Object(d.b)((function(){var e=v().state.ordersWithTotalSum,t=Object(a.useState)([]),r=Object(c.a)(t,2),n=r[0],i=r[1];return Object(a.useEffect)((function(){var t=C.a.groupBy(e,"orderedOn");console.log("groupByParametr",t);var r=C()(t).map((function(e,t){var r=C()(e).groupBy("supplier").map((function(e,t){return console.log("obj.productId",e),{id:t,name:t,children:[{id:e[0].productId,name:e[0].productName}]}})).value();return console.log("group",r),{id:t,name:t,children:r}})).value();console.log("groupBySupplier",r);var a={id:"root",name:"Orders by day",children:r};console.log("toObject",a),i(a)}),[e]),o.a.createElement("div",{className:"handler"},o.a.createElement(k,null),o.a.createElement("div",{className:"card-shadow card-container"},o.a.createElement("h2",{className:"margin-T-2"},"Delivery List"),o.a.createElement("div",{style:{height:"100%",minHeight:"250px"}},0!==n.length&&o.a.createElement(P,{data:n}))))})),U=r(255),G=r.n(U),V=Object(d.a)((function(e){var t=e.components;return o.a.createElement("div",null,t.map((function(e,t){return Object(m.a)({},e,{props:Object(m.a)({},e.props,{index:t})})})))})),M=(r(444),r(445),function(){var e=Object(a.useState)([o.a.createElement(I,{index:1,key:1}),o.a.createElement(w,{index:2,key:2}),o.a.createElement(L,{index:3,key:3}),o.a.createElement(F,{index:4,key:4})]),t=Object(c.a)(e,2),r=t[0],n=t[1];return o.a.createElement("div",{className:"App"},o.a.createElement(V,{useDragHandle:!0,components:r,onSortEnd:function(e){var t=e.oldIndex,a=e.newIndex;n(G()(r,t,a))}}))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement((function(e){var t=e.children,r=Object(a.useReducer)(f,y),n=Object(c.a)(r,2),i=n[0],u=n[1];return o.a.createElement(g.Provider,{value:{state:i,dispatch:u}},t)}),null,o.a.createElement(M,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},86:function(e,t,r){}},[[295,1,2]]]);
//# sourceMappingURL=main.e76d25b2.chunk.js.map